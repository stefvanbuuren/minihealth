---
title: "Input format"
author: "Stef van Buuren (TNO), Annemieke Beuker (Allegro Sultum)"
date: "10/11/2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Objective

This document describes the format of the input data accepted by JAMES. The specification

- closely follows the definition of the [Basisdataset JGZ 3.25 (2018)](https://www.ncj.nl/themadossiers/informatisering/basisdataset/);
- defines data objects;
- defines the actions taken by JAMES in case of incorrect, missing or out-of-range data;
- defines the error messages for informing the client.

## Generic object model

### EPremDossier Class

#### Object model 

EPremDossier  | Instance       | Class
------------- | -------------- | ------------ 
         ->   | Clientgegevens | EPremGroep
         ->   | Contactmomenten| EPremContactmoment

#### Syntax `C#`

`public class EPremDossier`

#### Public properties

Name            | Description
--------------- | -------------
Clientgegevens  | Class with basic data on child
Contactmomenten | Class with data per visit
InstrumentCode  | String identifying the instrument (not used)
OrganisatieCode | String identifying the care organisation
Referentie      | String identifying the request

### EPremGroep Class

#### Object model 

EPremGroep    | Instance       | Class
------------- | -------------- | ------------ 
         ->   | Elementen      | EPremElement 
         ->   | Groepen        | EPremGroep

#### Syntax `C#`

`public class EPremGroep`

#### Public properties

Name            | Description
--------------- | -------------
Elementen       | Class with BDS-elements
Groepen         | Class with groups of BDS-elements

### EPremElement Class

#### Syntax `C#`

`public class EPremElement`

#### Public properties

Name               | Description
------------------ | -------------
Bdsnummer          | Number identifying the BDS-field
InternNummer       | Number identifying internal field (not used)
Waarde             | Value of the BDS-field
Waardeomschrijving | Descriptive label for value (not used)

### EPremContactmoment Class

#### Object model 

EPremContactmoment  | Instance       | Class
------------------- | -------------- | ------------ 
               ->   | Elementen      | EPremElement 
               ->   | Groepen        | EPremGroep

#### Syntax `C#`

`public class EPremContactmoment : EPremGroep`

#### Public properties

Name            | Description
--------------- | -------------
Elementen       | Class with BDS-elements
Groepen         | Class with groups of BDS-elements
Tijdstip        | Date of visit

## BDS-elements

| BDS   | Description             | Code   | Value                     |
| -----:|:----------------------- |:------ |:------------------------- |
| 19    | Sex of child            | 0      | Unknown                   |
|       |                         | 1      | Male                      |
|       |                         | 2      | Female                    |
|       |                         | 3      | Not specified             |
| 20    | Date of birth           | text   | yyyymmdd                  |
| 62    | Caretaker relation      | 01     | biological father         |
|       |                         | 02     | biological mother         |
|       |                         | 03     | male partner, stepfather  |
|       |                         | 04     | female partner, stepmother|
|       |                         | 05     | adoptive father           |
|       |                         | 06     | adoptive mother           |
|       |                         | 07     | foster father             |
|       |                         | 08     | foster mother             |
|       |                         | 98     | other                     |
| 63    | Caretaker date of birth | text   | yyyymmdd                  |
| 66    | Caretaker education     | 01     | no primary school         |
|       |                         | 02     | primary school, special ed|
|       |                         | 03     | VSO-MLK/IVBO/VMBO-LWOO    |
|       |                         | 04     | LBO/VBO/VMBO-BBL&KBL      |
|       |                         | 05     | MAVO/VMBO-GL&TL           |
|       |                         | 06     | MBO                       |
|       |                         | 07     | HAVO/VWO                  |
|       |                         | 08     | HBO/HTS/HEAO              |
|       |                         | 09     | WO                        |
|       |                         | 98     | Other                     |
|       |                         | 00     | Unknown                   |
| 71    | Caretaker birth country | numeric| [4-digit code, Table 34](https://publicaties.rvig.nl/Landelijke_tabellen/Landelijke_tabellen_32_t_m_60_excl_tabel_35/Landelijke_Tabellen_32_t_m_60_in_csv_formaat)|
| 82    | Gestational age         | numeric| in days                   |
| 91    | Smoking during pregnancy| 1      | yes                       |
|       |                         | 2      | no                        |
|       |                         | 99     | unknown                   |
| 110   | Birth weight            | numeric| in grammes                |
| 235   | Length/height           | numeric| in millimeters            |
| 245   | Body weight             | numeric| in grammes                |
| 252   | Head circumference      | numeric| in millimeters            |
| 238   | Height biological mother| numeric| in millimeters            |
| 240   | Height biological father| numeric| in millimeters            |
| 510   | Passive smoking         | 01     | No smoking in house       |
|       |                         | 02     | Never with child          |
|       |                         | 03     | Not in last 7 days        |
|       |                         | 04     | Yes                       |

## Error checking

A missing or out-of-range code on the following variables will return an error message with code

